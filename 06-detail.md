# 세부사항

> Clean Architecture 6부 30~33장

## 데이터베이스는 세부사항이다

- 애플리케이션 내부 데이터 구조는 아키텍처에서 대단히 중요하다.
- 하지만, **데이터베이스는 데이터 모델이 아니다**. 데이터베이스는 데이터를 관리하고 데이터에 접근할 방법을 제공하는 유틸리티이다.
- 즉, 데이터베이스(유틸리티)는 **저수준의 세부사항**이므로 아키텍처와 관련이 없다.

### 관계형 데이터베이스

- 관계형 데이터베이스는 데이터를 특정한 방식으로 저장하고 접근할 수 있도록 설계한 것이다. (e.g. 관계형 테이블에 행(row) 구조로 데이터 저장)
- 즉, 관계형 데이터베이스는 기술일 뿐이므로 아키텍처에서 세부사항에 해당한다.
- Application의 Use Case는 **데이터를 테이블에 행 단위로 배치한다는 사실**을 알아서는 안되고, 알 필요도 없다.
    - _`~Record`와 같은 이름으로 행 자체를 묘사하는 듯한 객체를 사용하면 안될 것이다._
- 이런 세부사항들은 아키텍처의 외부 원에 위치한 최하위 수준 유틸리티 함수만 알아야 한다.
- 데이터베이스를 사용하든 예전 방식인 디스크를 사용하든, 디스크에 저장된 데이터를 RAM으로 옮겨서 사용하는 것은 동일하다.
- 즉, 데이터베이스도 디스크에 저장된 데이터를 RAM으로 가져올 때 사용하는 기술일 뿐이다.
- 따라서, 아키텍처 관점에서 데이터가 존재한다는 것은 알아도 그 데이터가 **어떤 형태이며 어떻게 가져오는지**에 대해서는 절대로 신경 쓰면 안된다.
    - 관계형 데이터베이스는 데이터를 테이블과 행 구조로 저장하며 SQL을 통해서만 데이터에 접근하고 가져올 수 있다.
    - 아키텍처는 이러한 저수준 세부사항을 전혀 몰라야 한다.

### 성능 문제

- 데이터베이스를 사용하는게 성능면에 이점이 있을 수 있다.
- 하지만, 아키텍처는 성능에 대해 신경쓰지 않는다.
- 성능은 아키텍처 바깥의 저수준의 데이터 접근 매커니즘 단에서 다뤄져야 한다.