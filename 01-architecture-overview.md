# Architecture Overview

> Clean Architecture 1부 1~2장

## 설계와 아키텍처

설계와 아키텍처는 본질적으로 같다. 

- 설계(Design) : 저수준의 구조 또는 결정사항
- 아키텍처(Architecture) : 고수준의 무언가

소프트웨어 설계는 고수준에서 저수준으로 향하는 의사결정의 연속성만이 존재한다.
- 소프트웨어를 아키텍처를 설계한다는 것은 저수준의 세부사항들로 나누어 나가고, 그들을 다시 합쳐서 하나의 큰 소프트웨어를 구축하는 것
- 즉, '고수준에서 저수준으로 향하는 의사결정'이 이루어진다.

## 좋은 소프트웨어 아키텍처의 목표

**필요한 시스템을 만들고 유지보수하는 데 투입되는 비용과 인력을 최소화하는 것**
(비용 최소화, 생산성 최대화)

- 새로운 기능을 출시할 때 마다 비용이 증가한다면 나쁜 설계
    - 개발자 수, 그에 따른 인건비 증가 등
    - 새로운 기능이 출시할 때 마다 비용은 기하급수적으로 증가하지만, 생산성은 반대로 줄어들며 증가폭이 0으로 수렴한다.
- '**일단 동작하게 만들자**'는 생각이 더 나쁜 설계로 만든다.
    - '나중에 코드를 개선해야지'라고 생각하지만, 실제로는 절대 개선하지 않는다.
    - 새로 개발해야 하는 다음 요구사항들이 끊임없이 밀려오기 때문
    - 개발자가 자신의 능력을 과신하여 나중에 좋은 설계로 고칠 수 있다고 믿지만, 실제로는 그렇지 않다.
- '**지저분한 코드를 작성하면 단기간에는 빠르게 갈 수 있고, 장기적으로 볼 때 생산성이 낮아진다**'는 거짓말에 속으면 안된다.
- 엉망으로 만들면 깔끔하게 유지할 때 보다 항상 느리다.
- "**빨리 가는 유일한 방법은 제대로 가는 것이다.**"

## 두 가지 가치

### 행위와 구조

소프트웨어 시스템이 이해관계자에게 제공하는 두 가지 가치

- 행위 : 요구사항을 구체화해서 코드로 작성하고 버그를 수정하는 것
- 구조(Architecture) : **변경사항을 간단하고 쉽게 적용할 수 있는 구조로 만드는 것**
    - 소프트웨어(Software)는 'soft' + 'ware'. 즉, 쉽게 변경할 수 있는 제품이다. 기계의 동작을 쉽게 바꾸기 위해 만들어진 것.
    - 변경사항을 적용하는데 드는 어려움이 '형태'가 아닌 '범위'에 비례해야 한다. 즉, 변경하기 어려운 구조라서 오래 걸리는게 아니라 단순히 양이 많아서 어려워져야 한다.
    - 새로운 요청사항이 생길 때 마다 더 어려워지는 이유는 **시스템의 형태와 요구사항의 형태가 맞지 않기 때문**이다.
    - 따라서, **구조(architecture)는 특정 요구사항의 형태에 독립적이어야 한다.**

### 중요한 것과 긴급한 것

소프트웨어를 개발할 때 '중요한 것'과 '긴급한 것' 중 어떤 것을 우선시해야 하는가?

- 중요한 것 : 형태에 독립적이어서 쉽게 변경할 수 있는 구조로 만드는 것
- 긴급한 것 : 개발 일정 등 다른 이해관계자들에 의해 정해지는 것

잘 동작하지만 변경이 거의 불가능한 소프트웨어와, 지금은 동작하지 않지만 쉽게 변경할 수 있는 소프트웨어 중에 어떤 것이 더 좋은 소프트웨어인가?

- 잘 동작하더라도, 변경할 수 없다면 쓸모 없는 소프트웨어이다.
- 지금은 동작하지 않더라도, 쉽게 변경할 수 있다면 언제든지 동작하도록 만들 수 있다.

<img src="img/eisenhower-matrix.png" width="50%">

1. 중요하고 긴급한 것
2. **중요하지만 긴급하지 않은 것**
3. **중요하지 않고 긴급한 것**
4. 중요하지 않고 긴급하지도 않은 것

아이젠하워 매트릭스에서 '중요한 것' -> '긴급한 것' 순으로 우선해야 한다.

- 보통, '**중요한 것은 긴급하지 않고, 긴급한 것은 중요하지 않다**'.
- 행위는 긴급하지만 매번 중요하지는 않다.
- 구조는 긴급한 경우는 드물지만 중요하다.

**긴급하지만 중요하지 않은 일**이 가장 높은 우선순위가 되지 않도록 투쟁해야 한다.
- 기능의 긴급성이 아닌 아키텍처의 중요성을 다른 이해관계자들에게 설득해야 한다.
- 개발자는 소프트웨어를 안전하게 보호해야 할 책임이 있다.

---

## 생각

- 구조를 행위보다 우선해야 한다는 것은 이해하지만, 실제로는 그렇게 하기 어려운 경우가 더 많은 것 같다.
- 구조를 더 우선시하려면, 구조를 잘 설계할 수 있는 능력이 높은 수준으로 요구되는 것 같다. 지금까지의 경험에서는 구조를 더 중요시 할 수 있는 상황이더라도 설계 능력이 부족해서 행위를 더 우선시하게 되는 상황이 생기기도 했다.
- 더 중요한 가치를 지키기 위해 설계/개발 능력을 더 키워야 한다.